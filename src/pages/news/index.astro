---
import BaseLayout from "../../layouts/BaseLayout.astro";

import { getCollection } from "astro:content";

const posts = await getCollection("news");
---

<BaseLayout>
  <section id="relume" class="px-[5%] py-16 md:py-24 lg:py-28">
    <div class="container">
      <div
        class="grid grid-cols-1 gap-x-20 gap-y-12 md:gap-y-16 lg:grid-cols-2 lg:items-center"
      >
        <div>
          <h1 class="mb-5 text-6xl font-bold md:mb-6 md:text-9xl lg:text-10xl">
            Ausbildung für Pferd &amp; Reiter
          </h1>
          <p class="md:text-md">
            Wir begleiten dich und dein Pferd mit individuell abgestimmtem
            Unterricht, kompetentem Beritt und persönlicher Unterstützung –
            herzlich, zielgerichtet und mit Freude an der Weiterentwicklung.
          </p>
          <div class="mt-6 flex flex-wrap gap-4 md:mt-8">
            <button
              class="rounded-button inline-flex gap-3 items-center justify-center whitespace-nowrap transition-all duration-200 ease-in-out disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none border border-border-primary bg-background-alternative text-text-alternative px-6 py-3"
              title="Kurs Plan"
            >
              Kurs Plan</button
            ><button
              class="rounded-button inline-flex gap-3 items-center justify-center whitespace-nowrap transition-all duration-200 ease-in-out disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none border border-border-primary text-text-primary bg-background-primary px-6 py-3"
              title="Unser Angebot"
            >
              Unser Angebot
            </button>
          </div>
        </div>
        <div>
          <img
            src="https://d22po4pjz3o32e.cloudfront.net/placeholder-image.svg"
            class="w-full rounded-image object-cover"
            alt="Relume placeholder image"
          />
        </div>
      </div>
    </div>
  </section>

  <section id="relume" class="overflow-hidden px-[5%] py-16 md:py-24 lg:py-28">
    <div class="container">
      <div
        class="rb-12 mb-12 grid grid-cols-1 items-start justify-start gap-y-8 md:mb-18 md:grid-cols-[1fr_max-content] md:items-end md:justify-between md:gap-x-12 md:gap-y-4 lg:mb-20 lg:gap-x-20"
      >
        <div class="md:mr-12 lg:mr-0">
          <div class="w-full max-w-lg">
            <p class="mb-3 font-semibold md:mb-4">Blog</p>
            <h2 class="mb-3 text-5xl font-bold md:mb-4 md:text-7xl lg:text-8xl">
              Neueste Beiträge
            </h2>
            <p class="md:text-md">Entdecke unsere neuesten Blog-Beiträge.</p>
          </div>
        </div>
      </div>
      <div class="relative" role="region" aria-roledescription="carousel">
        <div class="flex ml-0">
          {
            posts.map((post) => (
              <div
                role="group"
                aria-roledescription="slide"
                class="min-w-0 shrink-0 grow-0 basis-[95%] pr-6 pl-0 sm:basis-[80%] md:basis-1/3 md:pr-8"
              >
                <a href={`${import.meta.env.BASE_URL}/news/${post.id}`} class="mb-5 inline-block md:mb-6">
                  <img
                    src={post.data.heroImage || "/blog-placeholder-1.jpg"}
                    alt={post.data.title}
                    class="aspect-[3/2] size-full rounded-image object-cover"
                  />
                </a>
                <div class="rb-4 mb-4 flex w-full items-center justify-start">
                  <p class="text-sm font-semibold">{post.data.title}</p>
                </div>
                <a href={`/news/${post.id}`} class="mb-2">
                  <h2 class="text-xl font-bold md:text-2xl">
                    {post.data.title}
                  </h2>
                </a>
                <p>{post.data.description}</p>
                <a
                  href={`/news/${post.id}`}
                  class="rounded-button whitespace-nowrap transition-all duration-200 ease-in-out disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none border-0 text-text-primary gap-2 bg-transparent p-0 mt-6 flex items-center justify-center gap-x-2"
                  title="Read more"
                >
                  Read more
                </a>
              </div>
            ))
          }
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
